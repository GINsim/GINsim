%%
%% This is a DocBook LaTeX style example
%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{dbsimple}[2003/04/11 Simple DocBook Style]

% The defined options
\DeclareOption{hyperlink}{ \def\DBKhyperlink{yes} }
\DeclareOption{nohyperlink}{ \def\DBKhyperlink{no} }
\DeclareOption{article}{ \def\DBKisarticle{yes} }
\DeclareOption{report}{ \def\DBKisarticle{no} }

% Default values
\ExecuteOptions{hyperlink,report}

% If defined, process the options
\ProcessOptions\relax

% Needed packages
\usepackage{float}
\usepackage{dbk_core}

% LaTeX <othercredit> commands to define
%
% #1: mapped to <contrib>
% #2: mapped to <firstname> <surname>
%
\def\DBKinditem#1#2{
  #2  & #1 \tabularnewline
  \hline
}


\newenvironment{DBKindtable}{
  \begin{tabular}{ |l|l| }
  \hline
  \emph{Collaborator} & \emph{Contribution}
  \hline
}{
  \end{tabular}
}

% Better margins
% --------------------------------------------
% Check for PDFLaTeX/LaTeX 
% --------------------------------------------
\usepackage{ifpdf}
\usepackage{anysize}
\marginsize{1.3cm}{1cm}{1cm}{1cm}


%
% Latex <revhistory> table
%
\newenvironment{DBKrevtable}{
  \begin{longtable}{ |l|l|l|l| }
  \hline
  Revision number & Date & Release Info & Author \tabularnewline
  \hline
  \endhead
}{
  \end{longtable}
}

%
% <legalnotice> environment skip the information
%
\newenvironment{DBKlegalnotice}{
}{
}

%
% These floats must be defined to map <example> and <equation>
%
\usepackage{float}

\floatstyle{ruled}
\newfloat{example}{ht}{loe}[section]
\floatname{example}{Example}

\floatstyle{plain}
\newfloat{dbequation}{ht}{loe}[section]
\floatname{dbequation}{{\scshape Equation }}

%
% Nothing special for <note>, <caution>, <warning>
%
%\newenvironment{DBKadmonition}[2] {
%}{
%}
\newlength{\admlength}
\newenvironment{DBKadmonition}[2] {
  \begin{center}
  \hspace{0mm}%\newline
  \noindent
  \setlength{\fboxsep}{5pt}
  \setlength{\admlength}{\linewidth}
  \addtolength{\admlength}{-4mm}
  \sffamily
  \begin{minipage}{\admlength}
  \hrule
  \vspace{2mm} 
  \ifthenelse{\equal{#1}{}}{
    \def\admgraph{false}
  }{
    \def\admgraph{true}
    \includegraphics[width=10mm]{#1}\hspace{1mm}
    \addtolength{\admlength}{-11mm}
    \begin{minipage}{\admlength}
  }
  \textbf{#2}%
}{
  \ifthenelse{\equal{\admgraph}{false}}{}{
    \end{minipage}\newline
  }
  \vspace{3mm} 
  \hrule
  \end{minipage}\newline
  \end{center}
}

%
% <sidebar> environment
%
\newenvironment{sidebar}[1][\textwidth]{
  \hspace{0mm}\newline%
  \noindent\begin{Sbox}\begin{minipage}{#1}
}{
  \end{minipage}\end{Sbox}\shadowbox{\TheSbox}%
}

\bibliographystyle{plain}
